{% extends "layouts/main.twig" %}

{% block content %}
<nav class="nav">
    <a class="nav__btn" href="/">{{ translate.t('ru', 'home') }} </a>
</nav>
<h1 class="text_center"> {{ translate.t('ru', controller) }} </h1>
<table class="table">
    <thead class="table__head">
        <tr class="head__row">
            <th class="head__cell">
                {{ translate.t('ru', 'id') }}
            </th>
            <th class="head__cell">
                {{ translate.t('ru', 'username') }}
            </th>
            <th class="head__cell"> {{ translate.t('ru', 'last name') }} </th>
            <th class="head__cell"> {{ translate.t('ru', 'first name') }} </th>
            <th class="head__cell"> {{ translate.t('ru', 'second name') }} </th>
            <th class="head__cell"> {{ translate.t('ru', 'email') }} </th>
            <th class="head__cell"> {{ translate.t('ru', 'phone') }} </th>
            <th class="head__cell actions">
                <i class="btn create far fa-plus-square"
                    data-href="?c={{ controller }}&a=save"
                ></i>
            </th>
        </tr>
    </thead>
    <tbody>
        {% for user in users %}
            <tr class="table__row" data-href="?c={{ controller }}&a=view&id={{ user.getId() }}">
                <td class="table__cell">{{ user.getId() }}</td>
                <td class="table__cell">{{ user.getUserName() }}</td>
                <td class="table__cell">{{ user.last_name }}</td>
                <td class="table__cell">{{ user.first_name }}</td>
                <td class="table__cell">{{ user.second_name }}</td>
                <td class="table__cell">{{ user.email }}</td>
                <td class="table__cell">{{ user.phone }}</td>

                <td class="table__cell">
                    <i class="btn update fas fa-pencil-alt"
                       data-href="?c={{ controller }}&a=save&id={{ user.getId()|e }}"
                    ></i>
                    <i class="btn delete far fa-trash-alt"
                       data-href="?c={{ controller }}&a=delete&id={{ user.getId()|e }}"
                    ></i>
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}